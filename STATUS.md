# Task Tracker: спецификация

### Аналоги

####  1. TODO списки

TODO списки объединяет оперирование некоторыми наборами тасков, возможно объединенных на группы, с необязательной привязкой ко времени. У пользователей есть просто набор тасков. Здесь главная идея в запоминание пользовательских тасков и удобном оперировании ими в виде списка.

В дальнейшей работе предполагается опираться на опыт таких приложений.

#### * Todoist

+

Простая и не требующая особого изучения работа.
Проекты как верхний уровень объединения тасков. Позволяют предоставить общий доступ к некоторому определенному набору тасков.
Проекты создают иерархию.
Архивация проектов
Хеш-теги для фильтрации
Карма создает некоторое подобие игры для пользователя
Цели и статистика за последние 4 дня и неделю как способ мотивации и поддержки пользователя
Довольно удобно работает распознавание даты
У тасков есть приоритеты
Многопользовательская работа с проектами
Синхронизация с Google Календарь

-

Хеш-теги не очевидны и требуют некоторых дополнительных знаний
Просматривать можно только на сегодня и следующие 7 дней
Умное распознавание даты требует подключение к интернету
Многое платно: комментарии, напоминания, пользовательские фильтры, журнал действий и др.

#### * Trello

+

Доска как верхний уровень. В отличии Todoist требует обязательное создание.
Следующий уровень ирерхии списки.
Архивация досок и списков
Есть понятие карточки которое может быть таском а может быть набором маленьких тасков описанных общее идеей (т.е. 3 уровень иерархии)
Комментирование карточек
Есть вложения: картинки, файлы
Привязка других тасков
Журнализация
Многопользовательская работа

-

В архиве нельзя просмотреть содержимое списков и досок
Нет никакой возмоности просмотреть будущие таски по времени
Нет статистики
Нет приоритетов

#### * TickTick

+

Неплохой календарь с возможностью выбора дня
Описание таска
Приоритеты
Хештеги (они же метки)
Папки и списки (как доски и списки в Trello)
Легко видеть выполненные таски
Есть корзина. Т.е. таски от момента выполнения идут в списко выполненных и потом в корзину и только потому удаляются.
Дополнительно к папкам и спискам есть подзадачи.
В мобильной версии есть таймер Pomo
Можно установить напоминание о таске
Многопользовательская работа
Комментарии
Достижения (создание ощещения игры)
Процент завершения за неделю, лучший рабочий день.
Грфик количества завершенных задач за день неделю и месяц

-

Нельзя переносить строки при создании таска
В кастомных списках нет автоматической привязки по времени.
Случайно нашел таймер Pomo в настройках
В Календаре недели и месяцы платные
Платно: умное планирование и куча всякого еще

####  * Wunderlist

+

По функциональности кажется куда более простым
Есть возможность легко прсомотреть выполненные задачи
Прост в создании тасков

####  2. Календари

В отличии от TODO списков оперируют тасками во времени. Главная идея в том, что у пользователя етсь некоторое время (дни, недели, месяцы, года) внутри которых может быть создано событие. В большинстве календарей (в том числе и встроенные в некоторые Android устройства) нет понятие таска как некоторая абстрактная задача, а есть аналогия с вполне реальными событиями.

Для выделения из остальных TODO списков можно подчерпнуть управление временем.

#### * Google Календарь

+

Легкая и наглядная работа с здачами во времени
Просмотр по дням, неделям и месяцам
Понятие Календарь как фильтр событий
Автоматическое повторение тасков (кажный день, каждый четверг и т.п.)

#### * Yandex Календарь

Повторяет положительные стороны Google Календаря

+

Есть возможность создать небольшой TODO список. Но он гораздо проще чем у рассмотренных выше TODO списков.

####  3. Трекеры задач

Куда более похожи на TODO списки чем на Календари. Хотя предоставляют куда большую функциональность. Но это их же проблема. Для использования не в корпаративных целях являются довольно сложными, так как из-за большой функциональности требуют изучения, даже для самой простой работы.

Не будем опираться на них, но безусловно некоторые вещи можно подчерпнуть.

#### * Jira

+

Довольно удобно и приятно просматривать задачи
Очень гибкий и функциональный
Контроль доступа пользователей
Создание зависимых задач
Большое количество отчетов, графиков, диаграмм для наглядного отображения
Есть возможно установть количество потраченного времени на таск для последующего исследования

#### * YouTrack

Во многом повторяет Jira

+

Очень функциональный поиск

### Сценарии использования

1. Решил, что нужно когда-нибудь купить новую куртку и создал таск без определенного времени, чтобы всегда было перед глазами
2. Вспомнил, что нужно записаться сегодня к врачу и нужно создать таск на сегодняшнее число
3. Лабороторную работу для максимальной оценки нужно выполнить до 1 марта, но дедлайн 15 марта. Создать таск с благоприятным концом и крайним сроком.
4. Создать план, который будет три раза в неделю заводить на нужное время дела
«сходить в бассейн» с напоминанием утром нужного дня и за два часа до начала.
План, создающий три раза в день напоминание-задачу «выпить лекарство».
5. Создать таск с подтасками, в котором список необходимых вещей, которые нужно взять с собой в поездку
6. Накопилось большое количество работы перед дедлайном и необходимо с помощью календаря распланировать на какие дни какие поставить таски.
7. Выполнил все запланированные дела на сегодня и в проекте "Общий список" увидел, что давно хотел прочитать книгу "Design Patterns"
9. Преподаватель создал проект с названием дисциплины, пригласил туда всех студентов, но дал им право только на чтение. Создал таски под определенные курсовые проекты, назначил на каждый ответственного, назначил дедлайны этим таскам, в описании указал все нюансы по таскам. Все следят друг за другом и тем самым мотивируются. В комментариях студенты могут спрашивать уточниящую вопросы касательно тасков.
10. Своместный небольшой стартап-проект: один человек создал проект, пригласил в него всех участников, дал им права Администратора. Участники начинают создавать новые задачи, распределять их между собой на равных правах и получает уведомления о просроченных задачах других участников, а также все видят, что происходит с задачами благодаря журнализации.

### Планируемые возможности

Минимум:

1. Создание, удаление и редактирование задачи.
2. Создание описания задачи
3. Расширенная работа со временем: предполагаемое начало работы, благоприятный конец работы, крайний срок.
4. У таска есть приоритет, который повышает положение таска при прочих равных в списке
5. Возможность установить напоминание о крайнем сроке задачи и/или благоприятном конце работы. 
6. Можно установить напоминание за определенное время: 30 минут, час, 2 часа, 12 часов и т.п. или при помощи выбора конкретной даты/времени
7. Возможность установить предполагаемое время выполнения (и крайнее время выполнения) в виде: 2 часа, 2 дня. Требует установку предполагаемого момента начала выполнения.
8. Таски можно создавать без каких-либо временных ограничений. 
9. У тасков могут быть подтаски. Выполнение всех подтасков не означает выполнение их родительского таска, но выполнение родительского таска означает выполнение всех его дочерних. Вложенность подтасков не ограничена. Один подтаск имеет одного родителя
10. Таск может быть помечен как Ожидает выполнения, Выполняется, Завершен. Завершенные таски переносятся в список завершенных тасков
11. Таск может быть Просроченным. В таком случае ему нужно переназначить время или удалить его вовсе.
12. Таски должны быть объединены в проекты. Любой таск существует в одном из проектов и только в одном. Всегда существует как минимум один проект: "Общий список". В Общем списке будут храниться таски которым не указан особый проект. Проекты вкладывать друг в друга нельзя. Можно поставить проект как выполненный, но это не изменит состояние тасков внутри его. Выполненные проекты должны отображаться отдельно
13. Поиск по таскам либо в выбранном проекте либо во всех проектах. В результатах должен быть указан таск и проект, которому он принадлежит.
14. Каждый таск может иметь неограниченное количество хеш-тегов. Желательно подсказывать пользователю при вводе хеш-тега, чтобы он смог увидить какие есть. Поиск должен также осуществлять фильтрацию по хеш-тегам
15. Фильтры должны показывать таски на сегодня, на 3 дня вперед, на 7 дней вперед, Просроченные. Не должны показывать завершенные таски
16. Календарь в котором можно просмотреть таск на определенную дату. Если выполнение таска попадает на эту дату, но не начинается или не заканчивается в эту дату, то таск должен быть отображен в выводе. Например, начало таска указано в 03.03.2018, а конец 06.03.2018, и дата выбрана 05.03.2018, то этот таск покажется в выводе.
17. Список завершенных тасков должен быть у каждого проекта. При желании пользователя завершенный таск может быть показан в календаре, по умолчанию не показывает. В списке завершенных тасков можно явно удалить таск.
18. Связывание тасков родитель-потомок. То же самое как если при создании таска указать его подтаски, но для уже готовых тасков
19. Можно задать правило на создание тасков по определенному шаблону. По сути это обычный таск у которого установлено правило повторения: N раз в день, Каждый день в "время", Каждый "день недели", каждый месяц в "день".
20. Изменение планового таска из списка тасков или календаря изменит только одну версию таска, но не все.
21. Настраиваются плановые таски отдельно. Здесь можно явно удалить плановый таск или изменить его. Изменения распространятся на все версии таска.
22. Давать доступ другим пользователям к определенным проeктам.
23. У каждого проекта есть один или несколько Администраторов. Это всегда создатель проекта + кто-то кого укажет Адмиинистратор. Убрать права Администратора может только другой Администратор. Нельзя убрать права у создателя проекта
24. Администратор имеет право создавать и изменять таски, а также назначать участников как отвественных за таски. Остальные участники в общем случае могут только просматривать таски.
25. У каждого таска есть ответственный, по умолчанию это создатель (т.е. один из Администраторов). Ответственный может ограниченно менять таск за который он отвественен: название, описание, состояние, комментирование.
26. Фильтрация списка тасков по определенному участнику проекта.

Максимум:

27. Календарь в котором есть поддержка просмотра задач на определенную неделю или на месяц
28. Для каждого проекта запоминается история изменений.
29. Связывание тасков на равных правах. По сути это информационное связывание, когда выполнение одного таска никак не зависит и никак не влияет на дургие таски.
30. Создание блокирующих тасков. Это связь, когда нельзя установить таск как выполненный пока блкоирующий его таск не будет указан к выполенный.
31. Администратор может отправить внеплановое уведомление ответственному за таск, чтобы как-то уведомить/стимулировать отвественного.
32. Можно к таскам отправлять комментарии. Любой участник имеет право писать комментарий к любому таску.
33. Вывод статистики по ошибкам в планировании за промежуток времени: количество изменений тасков, погрешность в предполагаемом конце задачи/крайнем конце задачи относительно реально потраченного времени.
34. Сохраняется время создания таска и когда у таска сменили состояние. Потом можно будет показать пользователю статистику: сколько реально заняло выполнение таска, сколько таск "провисел" в ожидании.

### Логическая архитектура

Посмотреть приблизительную поверхностную архитектуру проекта можно в файле architecture.pdf. Архитектура будет изменяться с течением времени.

На верхнем уровне будет несколько модулей: Хранилище, Модель, Обарботчик запросов, Парсер запросов, Обработчик ответов и модуль логгирования.  

Модель содержит описание всех сущностей проекта и их взаимоотношения.  

Хранилище состоит из адаптеров, которые принимают на вход объекты модели (либо что-то еще, в зависимости от действия), каким-то образом их обрабатывают и возвращают некоторый результат. Способ хранения данных отделен от остальных модулей адаптерами. Предполагается, что на первых этапах разработки будет использоваться сериализация, позже полноценная база данных.  

Возможно будет использован кеш для быстрого извлечения информации. Зависит от времени выполнения других задач.  

Обработчик запросов принимает на вход некоторый набор данных - запрос. Далее он проверяет валидность запроса и, в случае успеха, обращается к модулю Хранилище. Далее он обрабатывает результат и создает объект класса Responce, который хранит данные и код результата, а также описание ошибки, если необходимо. Также обработчик запросов логгирует все свои действия.  

Парсер запросов является связующим звеном между внешним миром и системой. Предполагается что запросы могут приходить из разных источников: командная строка, http-запрос или т.п.  

Обработчик ответов связывает систему с внешним миром. Он может создавать http-запросы или выводить данные на консоль

### Этапы разработки

1. Этап разработки минимального прототипа. Реализовать возможности: 1, 2, 3, 4, 5, 8, 9, 10, 11, 12, 15, 17
2. Этап развития прототипа. Реализовать возможности: 6, 7, 13, 14, 16, 18
3. Этап разработки базовой версии. Реализовать возможности: 19, 20, 21, 22, 23, 24, 25, 26
4. Этап создания web-интерфейса. На этом этапе из базовой версии извлекаются модули консоли и проект разделяется на бек-энд и фронт-энд
5. Этап дополнения полной версии. Реализовать возможности: 28, 29, 30, 32
6. Этап завершения полной версии. Реализовать возможности: 27, 31, 33, 34

### Сроки исполнения

Сроки будут уточнены

1 этап до 1 апреля  
2 этап до 15 апреля  
3 этап до 1 мая  
4 этап до 20 мая  
5 этап до 1 июня  
6 этап ...  

### Статус

Уточнение архитектуры и возможностей
Сохранение начальных данных таска и вывод всех тасков. Начальная JSON сериализация.